<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>RPG Gamifier v12 ‚Äî Boss Battle + Mini Avatar</title>
<link rel="stylesheet" href="style.css?v=12">
</head>
<body>
<div class="app">

  <div class="toasts" id="toasts"></div>

  <header class="topbar">
    <div class="avatar-box">
      <img id="avatarImg" class="avatar" src="assets/hero1.png" alt="avatar">
      <div class="avatar-ctrl">
        <select id="avatarSelect">
          <option value="hero1.png">üõ°Ô∏è –í–æ–∏–Ω</option>
          <option value="hero2.png">ü™Ñ –ú–∞–≥</option>
          <option value="hero3.png">üó°Ô∏è –í–æ—Ä</option>
        </select>
      </div>
    </div>
    <div class="hud">
      <h1>RPG Gamifier v12</h1>
      <div class="stats">
        <div class="stat">STR <span id="statSTR">0</span></div>
        <div class="stat">INT <span id="statINT">0</span></div>
        <div class="stat">CHA <span id="statCHA">0</span></div>
      </div>
      <div class="xpbar"><div class="xpfill" id="xpFill"></div></div>
      <div class="meta">–£—Ä–æ–≤–µ–Ω—å: <b id="levelNum">1</b> ‚Ä¢ –ë–∞–ª–∞–Ω—Å: <b id="currentXP">0</b> XP ‚Ä¢ <span id="apiStatus">offline</span></div>
    </div>

    <div class="mini-hero">
      <img id="miniAvatar" src="assets/hero1.png" class="mini" alt="mini">
      <div id="mood" class="mood">üôÇ</div>
    </div>
  </header>

  <main class="grid">
    <div class="left-col">
      <section class="panel">
        <h2>‚òÄÔ∏è –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã</h2>
        <div id="dailyWarn" class="warn hide">‚ö†Ô∏è –í—á–µ—Ä–∞—à–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –Ω–µ –±—ã–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.</div>
        <div id="dailyList" class="list droppable" data-bucket="daily"></div>
      </section>

      <section class="panel">
        <h2>üìú Inbox ‚Äî –≤—Ö–æ–¥—è—â–∏–µ –∫–≤–µ—Å—Ç—ã</h2>
        <div class="add-row">
          <input id="inboxText" placeholder="–ù–æ–≤—ã–π –∫–≤–µ—Å—Ç..." />
          <input id="inboxXP" type="number" placeholder="XP" value="10" />
          <select id="inboxStat">
            <option value="STR">STR</option>
            <option value="INT">INT</option>
            <option value="CHA">CHA</option>
          </select>
          <input id="inboxDate" type="datetime-local" />
          <button id="inboxAdd" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div id="inboxList" class="list droppable" data-bucket="inbox"></div>
      </section>

      <section class="panel board">
        <h2>üè∞ –ì–∏–ª—å–¥–∏—è –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π</h2>
        <div class="cols">
          <div class="col"><h3>‚öîÔ∏è –ú–æ–±—ã</h3><div id="shortList" class="list droppable" data-bucket="short"></div></div>
          <div class="col"><h3>üìú –ö–≤–µ—Å—Ç—ã (—Ü–µ–ø–æ—á–∫–∏)</h3><div id="midList" class="list"></div></div>
          <div class="col"><h3>üó∫Ô∏è –ö–∞–º–ø–∞–Ω–∏—è (—Ü–µ–ø–æ—á–∫–∏)</h3><div id="longList" class="list"></div></div>
          <div class="col"><h3>üêâ –î—Ä–∞–∫–æ–Ω—ã</h3><div id="bossList" class="list droppable" data-bucket="boss"></div></div>
        </div>
      </section>
    </div>

    <div class="right-col">
      <section class="panel">
        <h2>üê≤ –ë–∏—Ç–≤–∞ —Å –±–æ—Å—Å–æ–º</h2>
        <div class="boss-wrap">
          <div class="boss-line">
            <span id="bossName">–î—Ä–∞–∫–æ–Ω –ò–∑ –≠–ø–æ—Å–∞</span>
            <span class="meta" id="bossHPText">HP 1000 / 1000</span>
          </div>
          <div class="bar boss"><div class="fill" id="bossHPFill" style="width:100%"></div></div>
          <div class="add-row">
            <input id="bossNameInput" placeholder="–ò–º—è –±–æ—Å—Å–∞">
            <input id="bossHPMax" type="number" placeholder="HP" value="1000">
            <button id="bossApply" class="btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
            <button id="bossReset" class="btn">–°–±—Ä–æ—Å HP</button>
          </div>
        </div>
      </section>

      <section class="panel">
        <h2>üß∞ –õ–∞–≤–∫–∞ –∞–ª—Ö–∏–º–∏–∫–∞</h2>
        <div id="shopList" class="list"></div>
        <div class="add-row">
          <input id="addRewardText" placeholder="–ù–∞–≥—Ä–∞–¥–∞" />
          <input id="addRewardCost" type="number" placeholder="XP" value="50" />
          <button id="addReward" class="btn primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </section>

      <section class="panel">
        <h2>üèÖ –¢—Ä–æ—Ñ–µ–∏</h2>
        <div id="achList" class="badge-grid"></div>
        <div class="add-row">
          <input id="addAchText" placeholder="–°–≤–æ—è –∞—á–∏–≤–∫–∞..." />
          <button id="addAch" class="btn">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </section>

      <section class="panel">
        <h2>üßô –°–æ–≤–µ—Ç –º—É–¥—Ä–µ—Ü–∞</h2>
        <div class="add-row">
          <input id="coachPrompt" placeholder="–ó–∞–ø—Ä–æ—Å –¥–ª—è –º—É–¥—Ä–µ—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
          <button id="askCoach" class="btn primary">–ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç</button>
        </div>
        <div id="coachIdeas" class="coach-ideas"></div>
        <div class="meta" id="apiHint">–ß—Ç–æ–±—ã GPT/–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–ª–∏: –∑–∞–¥–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ Render –∏ —É–∫–∞–∂–∏ BOT_API_BASE.</div>
      </section>
    </div>
  </main>

  <footer class="foot">RPG Gamifier v12 ‚Ä¢ Boss Battle + Mini Avatar ‚Ä¢ ¬© You</footer>
</div>

<script>
const BOT_API_BASE = "https://rpg-gamifier-v7-1.onrender.com";
</script>
<script src="app.js?v=12"></script>
</body>
</html>
